<with-drawer
  #drawer
  mode="over"
  [disableClose]="true"
  [hasBackdrop]="true"
  width="25vw"
>
  <form
    [ngStyle]="{ padding: '20px' }"
    sideForm
    [formGroup]="editForm"
    (ngSubmit)="onSubmit()"
  >
    <button
      mat-icon-button
      style="float: right"
      type="button"
      (click)="onCloseSideForm()"
    >
      <mat-icon>close</mat-icon>
    </button>

    <mat-form-field style="margin-right: 8px" floatLabel="never">
      <mat-label style="margin-right: 10px" matPrefix>Username </mat-label>
      <input type="text" matInput formControlName="username" />
    </mat-form-field>
    <mat-form-field style="margin-right: 8px" floatLabel="never">
      <mat-label style="margin-right: 10px" matPrefix>Password </mat-label>
      <input type="text" matInput formControlName="password" />
    </mat-form-field>

    <div
      [ngStyle]="{
        display: 'flex',
        justifyContent: 'space-around',
        alignItems: 'center'
      }"
    >
      <button
        mat-raised-button
        type="submit"
        color="primary"
        [disabled]="isSubmitting"
      >
        Submit
      </button>
      <button mat-raised-button type="reset" color="accent">Reset</button>
    </div>
  </form>
  <div style="padding: 20px">
    <h2>{{ title }}</h2>
    <app-search-form
      [formGroup]="searchForm"
      (onSubmit)="onSearch()"
      (onReload)="getMany()"
      (onAdd)="onCreate()"
    >
      <ng-container fields>
        <mat-label style="margin-right: 10px" matPrefix>Username </mat-label>
        <mat-form-field style="margin-right: 8px" floatLabel="never">
          <input
            type="text"
            matInput
            placeholder="Search"
            formControlName="username"
          />
        </mat-form-field>
        <mat-label style="margin-right: 10px" matPrefix>CreatedAt </mat-label>
        <mat-form-field style="margin-right: 8px" floatLabel="never">
          <mat-date-range-input [rangePicker]="picker">
            <input
              matStartDate
              placeholder="Start date"
              (focus)="picker.open()"
            />
            <input matEndDate placeholder="End date" (focus)="picker.open()" />
          </mat-date-range-input>
          <mat-hint>MM/DD/YYYY</mat-hint>
          <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>
      </ng-container>
    </app-search-form>
    <mat-card>
      <table style="width: 100%" mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef style="text-align: center">
            ID
          </th>
          <td mat-cell *matCellDef="let element">{{ element.id }}</td>
        </ng-container>

        <ng-container matColumnDef="username">
          <th mat-header-cell *matHeaderCellDef style="text-align: center">
            Username
          </th>
          <td mat-cell *matCellDef="let element">{{ element.username }}</td>
        </ng-container>
      </table></mat-card
    >
  </div></with-drawer
>
